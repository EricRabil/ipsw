<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>dyld - ipsw</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="https://blacktop.github.io/ipsw/favicon.png">

  
  
  <link rel="stylesheet" href="/ipsw/css/style.min.e3048cc2646800adab9f0cfd04e3efcd5ccdf4ae85a9b908f97487e961d5b641.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/ipsw/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/ipsw/docs/">
        <span>Docs</span>
      </a>
    </li>
    
    <li class="menu-item-github">
      <a href="https://github.com/blacktop/ipsw">
        <span>Github</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://blacktop.github.io/ipsw/"><img alt="Logo" src="/images/ipsw.png" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://blacktop.github.io/ipsw/"><img alt="Logo" src="/images/ipsw.png" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/ipsw/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/ipsw/docs/">
        <span>Docs</span>
      </a>
    </li>
    
    <li class="menu-item-github">
      <a href="https://github.com/blacktop/ipsw">
        <span>Github</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Docs</h4>
  <ul>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/install/">Install</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/build/">Build</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/getting-started/">Getting Started</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/download/">download</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/info/">info</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/extract/">extract</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/macho/">macho</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/kernel/">kernel</a>
    </li>
    
    <li class="active ">
      <a href="https://blacktop.github.io/ipsw/docs/commands/dyld/">dyld</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/device-tree/">dtree</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/device-list/">device-list</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/ota/">ota</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/shsh/">shsh</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/sepfw/">sepfw</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/img4/">img4</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/update/">update</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/iboot/">iboot</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/ent/">ent</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/symbolicate/">symbolicate</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/completion/">completion</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/roadmap/">Roadmap</a>
    </li>
    
  </ul>
</div>

          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">dyld</h1>
<div class="content ">
  <ul>
<li><a href="#dyld---help"><strong>dyld &ndash;help</strong></a></li>
<li><a href="#dyld-info"><strong>dyld info</strong></a></li>
<li><a href="#dyld-image"><strong>dyld image</strong></a></li>
<li><a href="#dyld-extract"><strong>dyld extract</strong></a></li>
<li><a href="#dyld-macho"><strong>dyld macho</strong></a></li>
<li><a href="#dyld-symaddr"><strong>dyld symaddr</strong></a></li>
<li><a href="#dyld-a2s"><strong>dyld a2s</strong></a></li>
<li><a href="#dyld-a2f"><strong>dyld a2f</strong></a></li>
<li><a href="#dyld-objc"><strong>dyld objc</strong></a>
<ul>
<li><a href="#dyld-objc-class"><strong>dyld objc class</strong></a></li>
<li><a href="#dyld-objc-proto"><strong>dyld objc proto</strong></a></li>
<li><a href="#dyld-objc-sel"><strong>dyld objc sel</strong></a></li>
</ul>
</li>
<li><a href="#dyld-split"><strong>dyld split</strong></a></li>
<li><a href="#dyld-webkit"><strong>dyld webkit</strong></a></li>
<li><a href="#dyld-patches"><strong>dyld patches</strong></a></li>
<li><a href="#dyld-slide"><strong>dyld slide</strong></a></li>
<li><a href="#dyld-a2o"><strong>dyld a2o</strong></a></li>
<li><a href="#dyld-o2a"><strong>dyld o2a</strong></a></li>
<li><a href="#dyld-disass"><strong>dyld disass</strong></a></li>
<li><a href="#dyld-imports"><strong>dyld imports</strong></a></li>
<li><a href="#dyld-xref"><strong>dyld xref</strong></a></li>
<li><a href="#dyld-tbd"><strong>dyld tbd</strong></a></li>
<li><a href="#dyld-dump"><strong>dyld dump</strong></a></li>
</ul>
<hr>
<h3 id="dyld---help"><strong>dyld &ndash;help</strong></h3>
<p>Help for dyld cmd</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld --help
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Parse dyld_shared_cache
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">  ipsw dyld <span class="o">[</span>flags<span class="o">]</span>
</span></span><span class="line"><span class="cl">  ipsw dyld <span class="o">[</span>command<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Available Commands:
</span></span><span class="line"><span class="cl">  a2o         Convert dyld_shared_cache address to offset
</span></span><span class="line"><span class="cl">  a2s         Lookup symbol at unslid address
</span></span><span class="line"><span class="cl">  disass      Disassemble dyld_shared_cache symbol/vaddr in an image
</span></span><span class="line"><span class="cl">  extract     Extract dyld_shared_cache from DMG in IPSW
</span></span><span class="line"><span class="cl">  imports     List all dylibs that load a given dylib
</span></span><span class="line"><span class="cl">  info        Parse dyld_shared_cache
</span></span><span class="line"><span class="cl">  macho       Parse a dylib file
</span></span><span class="line"><span class="cl">  o2a         Convert dyld_shared_cache offset to address
</span></span><span class="line"><span class="cl">  objc        Dump Objective-C Optimization Info
</span></span><span class="line"><span class="cl">  patches     Dump dyld patch info
</span></span><span class="line"><span class="cl">  slide       Get slide info chained pointers
</span></span><span class="line"><span class="cl">  split       Extracts all the dyld_shared_cache libraries
</span></span><span class="line"><span class="cl">  symaddr     Lookup or dump symbol<span class="o">(</span>s<span class="o">)</span>
</span></span><span class="line"><span class="cl">  tbd         Generate a .tbd file <span class="k">for</span> a dylib
</span></span><span class="line"><span class="cl">  webkit      Get WebKit version from a dyld_shared_cache
</span></span><span class="line"><span class="cl">  xref        üöß <span class="o">[</span>WIP<span class="o">]</span> Find all cross references to an address
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Flags:
</span></span><span class="line"><span class="cl">  -h, --help   <span class="nb">help</span> <span class="k">for</span> dyld
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Global Flags:
</span></span><span class="line"><span class="cl">      --config string   config file <span class="o">(</span>default is <span class="nv">$HOME</span>/.ipsw.yaml<span class="o">)</span>
</span></span><span class="line"><span class="cl">  -V, --verbose         verbose output
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Use <span class="s2">&#34;ipsw dyld [command] --help&#34;</span> <span class="k">for</span> more information about a command.
</span></span></code></pre></div><h3 id="dyld-info"><strong>dyld info</strong></h3>
<p>Similar to <code>jtool -h -l dyld_shared_cache</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld info -l -s dyld_shared_cache <span class="p">|</span> head -n35
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">Header</span>
</span></span><span class="line"><span class="cl"><span class="o">======</span>
</span></span><span class="line"><span class="cl"><span class="nv">Magic</span>            <span class="o">=</span> <span class="s2">&#34;dyld_v1  arm64e&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">UUID</span>             <span class="o">=</span> 92537455-A74B-3198-96CD-F2D2D2778315
</span></span><span class="line"><span class="cl"><span class="nv">Platform</span>         <span class="o">=</span> iOS
</span></span><span class="line"><span class="cl"><span class="nv">Format</span>           <span class="o">=</span> <span class="m">10</span> <span class="o">(</span>BuiltFromChainedFixups<span class="o">)</span>
</span></span><span class="line"><span class="cl">Max <span class="nv">Slide</span>        <span class="o">=</span> 0x33940000 <span class="o">(</span>ASLR entropy: 16-bits<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Local Symbols <span class="o">(</span>nlist array<span class="o">)</span>:     78MB,  offset:  0x62144260 -&gt; 0x66F98340
</span></span><span class="line"><span class="cl">Local Symbols <span class="o">(</span>string pool<span class="o">)</span>:    256MB,  offset:  0x66F98340 -&gt; 0x7701333B
</span></span><span class="line"><span class="cl">Code Signature:                   3MB,  offset:  0x77014000 -&gt; 0x773D0000
</span></span><span class="line"><span class="cl">ImagesText Info <span class="o">(</span><span class="m">2072</span> entries<span class="o">)</span>:  64KB,  offset:  0x00000300 -&gt; 0x00010600
</span></span><span class="line"><span class="cl">Slide Info <span class="o">(</span>v3<span class="o">)</span>:                  0KB,  offset:  0x00000000 -&gt; 0x00000000
</span></span><span class="line"><span class="cl">Branch Pool:                      0MB,  offset:  0x00000000 -&gt; 0x00000000
</span></span><span class="line"><span class="cl">Accelerate Tab:                   0KB,  address: 0x00000000 -&gt; 0x00000000
</span></span><span class="line"><span class="cl">Patch Info:                     512KB,  address: 0x1E798654C -&gt; 0x1E7A068BC
</span></span><span class="line"><span class="cl">Closures:                         6MB,  address: 0x1E7AE0000 -&gt; 0x1E8129748
</span></span><span class="line"><span class="cl">Closures Trie:                   53KB,  address: 0x1E8129748 -&gt; 0x1E8136D40
</span></span><span class="line"><span class="cl">Shared Region:                    4GB,  address: 0x180000000 -&gt; 0x280000000
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">Mappings</span>
</span></span><span class="line"><span class="cl"><span class="o">========</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span>    SEG     <span class="p">|</span> INITPROT <span class="p">|</span> MAXPROT <span class="p">|</span>  SIZE   <span class="p">|</span>        ADDRESS         <span class="p">|</span>     FILE OFFSET      <span class="p">|</span>  SLIDE INFO OFFSET   <span class="p">|</span> FLAGS <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span>------------<span class="p">|</span>----------<span class="p">|</span>---------<span class="p">|</span>---------<span class="p">|</span>------------------------<span class="p">|</span>----------------------<span class="p">|</span>----------------------<span class="p">|</span>-------<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span> __TEXT     <span class="p">|</span> r-x      <span class="p">|</span> r-x     <span class="p">|</span> <span class="m">1222</span> MB <span class="p">|</span> <span class="m">180000000</span> -&gt; 1CC6C0000 <span class="p">|</span> <span class="m">00000000</span> -&gt; 4C6C0000 <span class="p">|</span> <span class="m">00000000</span> -&gt; <span class="m">00000000</span> <span class="p">|</span> <span class="m">0</span>     <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span> __DATA     <span class="p">|</span> rw-      <span class="p">|</span> rw-     <span class="p">|</span> <span class="m">116</span> MB  <span class="p">|</span> 1CE6C0000 -&gt; 1D5B18000 <span class="p">|</span> 4C6C0000 -&gt; 53B18000 <span class="p">|</span> 58CA4000 -&gt; 58CB4000 <span class="p">|</span> <span class="m">0</span>     <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span> __AUTH     <span class="p">|</span> rw-      <span class="p">|</span> rw-     <span class="p">|</span> <span class="m">81</span> MB   <span class="p">|</span> 1D7B18000 -&gt; 1DCCA4000 <span class="p">|</span> 53B18000 -&gt; 58CA4000 <span class="p">|</span> 58CB8000 -&gt; 58CC4000 <span class="p">|</span> <span class="m">1</span>     <span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="p">|</span> __LINKEDIT <span class="p">|</span> r--      <span class="p">|</span> r--     <span class="p">|</span> <span class="m">148</span> MB  <span class="p">|</span> 1DECA4000 -&gt; 1E8138000 <span class="p">|</span> 58CA4000 -&gt; <span class="m">62138000</span> <span class="p">|</span> <span class="m">00000000</span> -&gt; <span class="m">00000000</span> <span class="p">|</span> <span class="m">0</span>     <span class="p">|</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Code <span class="nv">Signature</span>
</span></span><span class="line"><span class="cl"><span class="o">==============</span>
</span></span><span class="line"><span class="cl">Code Directory <span class="o">(</span><span class="m">3963356</span> bytes<span class="o">)</span>
</span></span><span class="line"><span class="cl">	Version:     ExecSeg
</span></span><span class="line"><span class="cl">	Flags:       Adhoc
</span></span><span class="line"><span class="cl">	CodeLimit:   0x78f24000
</span></span><span class="line"><span class="cl">	Identifier:  com.apple.dyld.cache.arm64e.release <span class="o">(</span>@0x58<span class="o">)</span>
</span></span><span class="line"><span class="cl">	TeamID:
</span></span><span class="line"><span class="cl">	CDHash:      7d32d18703679ac152a74ff872e38dda69339eabe29a0a6837861cec3d05de87 <span class="o">(</span>computed<span class="o">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1"># of hashes: 123849 code (16384 pages) + 2 special</span>
</span></span><span class="line"><span class="cl">	Hashes @188 size: <span class="m">32</span> Type: Sha256
</span></span><span class="line"><span class="cl">Requirement Set <span class="o">(</span><span class="m">12</span> bytes<span class="o">)</span> with <span class="m">1</span> requirement
</span></span><span class="line"><span class="cl">	0: 0x0 <span class="o">(</span>@0, <span class="m">12</span> bytes<span class="o">)</span>: empty requirement <span class="nb">set</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">Images</span>
</span></span><span class="line"><span class="cl"><span class="o">======</span>
</span></span><span class="line"><span class="cl">   1: 0x180045000 /usr/lib/system/libsystem_trace.dylib                                                           <span class="o">(</span>1264.0.0<span class="o">)</span>
</span></span><span class="line"><span class="cl">   2: 0x18005C000 /usr/lib/system/libxpc.dylib                                                                    <span class="o">(</span>2001.0.0<span class="o">)</span>
</span></span><span class="line"><span class="cl">   3: 0x180091000 /usr/lib/system/libsystem_blocks.dylib                                                          <span class="o">(</span>76.0.0<span class="o">)</span>
</span></span><span class="line"><span class="cl">   4: 0x180093000 /usr/lib/system/libsystem_c.dylib                                                               <span class="o">(</span>1431.0.0<span class="o">)</span>
</span></span></code></pre></div><p><strong>NOTE:</strong> We added the <code>-s</code> or <code>--sig</code> flag to also parse the <em>CodeDirectory</em>.</p>
<p>You can also dump the <code>launch closures</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld info dyld_shared_cache --closures
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Prog Closure <span class="nv">Offsets</span>
</span></span><span class="line"><span class="cl"><span class="o">====================</span>
</span></span><span class="line"><span class="cl">0x1f1ec10f4     /usr/sbin/wifid
</span></span><span class="line"><span class="cl">0x1f1ebfe54     /usr/sbin/syslogd
</span></span><span class="line"><span class="cl">0x1f1ebda8c     /usr/sbin/spindump
</span></span><span class="line"><span class="cl">0x1f1ebad54     /usr/sbin/scutil
</span></span><span class="line"><span class="cl">0x1f1eb8d30     /usr/sbin/pppd
</span></span><span class="line"><span class="cl">0x1f1eb7de0     /usr/sbin/otctl
</span></span><span class="line"><span class="cl">0x1f1eb7818     /usr/sbin/nvram
</span></span><span class="line"><span class="cl">0x1f1eb6ab4     /usr/sbin/mediaserverd
</span></span><span class="line"><span class="cl">0x1f1eb24b8     /usr/sbin/mDNSResponder
</span></span><span class="line"><span class="cl">0x1f1eb612c     /usr/sbin/mDNSResponderHelper
</span></span><span class="line"><span class="cl">0x1f1eb197c     /usr/sbin/ipconfig
</span></span><span class="line"><span class="cl">0x1f1eb1240     /usr/sbin/hdik
</span></span><span class="line"><span class="cl">0x1f1eb02d8     /usr/sbin/fairplayd.H2
</span></span><span class="line"><span class="cl">0x1f1eaf770     /usr/sbin/ckksctl
</span></span><span class="line"><span class="cl">&lt;SNIP&gt;
</span></span></code></pre></div><p>You can also dump the <code>dlopen image/bundle(s)</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld info dyld_shared_cache --dlopen
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">dlopen<span class="o">(</span>s<span class="o">)</span> Image/Bundle <span class="nv">IDs</span>
</span></span><span class="line"><span class="cl"><span class="o">==========================</span>
</span></span><span class="line"><span class="cl">5004: /usr/lib/xpc/support.bundle/support
</span></span><span class="line"><span class="cl">5003: /usr/lib/libobjc-trampolines.dylib
</span></span><span class="line"><span class="cl">5002: /usr/lib/libffi-trampolines.dylib
</span></span><span class="line"><span class="cl">5001: /usr/lib/libCoreKE.dylib
</span></span><span class="line"><span class="cl">5000: /System/Library/VoiceServices/PlugIns/Base.vsplugin/Base
</span></span><span class="line"><span class="cl">4999: /System/Library/VideoProcessors/CCPortrait.bundle/CCPortrait
</span></span><span class="line"><span class="cl">4998: /System/Library/UserNotifications/Bundles/com.apple.tailspin.notifications.bundle/com.apple.tailspin.notifications
</span></span><span class="line"><span class="cl">4997: /System/Library/UserNotifications/Bundles/com.apple.studentd.notifications.bundle/com.apple.studentd.notifications
</span></span><span class="line"><span class="cl">4996: /System/Library/UserNotifications/Bundles/com.apple.reminders.bundle/com.apple.reminders
</span></span><span class="line"><span class="cl">4995: /System/Library/UserNotifications/Bundles/com.apple.iCloud.FollowUp.bundle/com.apple.iCloud.FollowUp
</span></span><span class="line"><span class="cl">4994: /System/Library/UserNotifications/Bundles/com.apple.donotdisturb.bundle/com.apple.donotdisturb
</span></span><span class="line"><span class="cl">&lt;SNIP&gt;
</span></span></code></pre></div><h3 id="dyld-image"><strong>dyld image</strong></h3>
<p>To dump info from <code>dylibsImageArray</code>, <code>otherImageArray</code> or <code>progClosures</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld image dyld_shared_cache_arm64 CoreFoundation -V
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ID:                4
</span></span><span class="line"><span class="cl">Name:              /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
</span></span><span class="line"><span class="cl">Flags:             objc|plus_loads|dylib|in_cache
</span></span><span class="line"><span class="cl">UUID:              5BBDEA97-01D2-30D8-8123-43118E96A409
</span></span><span class="line"><span class="cl">Cache Segments:
</span></span><span class="line"><span class="cl">	offset: 0x00354000, size: 0x003ad000, perms: r-x
</span></span><span class="line"><span class="cl">	offset: 0x53130af0, size: 0x0021c370, perms: rw-
</span></span><span class="line"><span class="cl">	offset: 0x5334ce60, size: 0x00008530, perms: rw-
</span></span><span class="line"><span class="cl">	offset: 0x529ea080, size: 0x00007d88, perms: rw-
</span></span><span class="line"><span class="cl">	offset: 0x65d94000, size: 0x00093000, perms: r--
</span></span><span class="line"><span class="cl">	offset: 0x661a4000, size: 0x001a8000, perms: r--
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Dependents:
</span></span><span class="line"><span class="cl">	reExport) /usr/lib/libobjc.dylib
</span></span><span class="line"><span class="cl">	regular ) /usr/lib/libicucore.dylib
</span></span><span class="line"><span class="cl">	regular ) /usr/lib/librpcsvc.dylib
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Init Order:
</span></span><span class="line"><span class="cl">	/usr/lib/system/libsystem_blocks.dylib
</span></span><span class="line"><span class="cl">	/usr/lib/system/libdispatch.dylib
</span></span><span class="line"><span class="cl">	/usr/lib/system/libxpc.dylib
</span></span><span class="line"><span class="cl">	/usr/lib/system/libsystem_trace.dylib
</span></span><span class="line"><span class="cl">	/usr/lib/librpcsvc.dylib
</span></span><span class="line"><span class="cl">	/usr/lib/libc++.dylib
</span></span><span class="line"><span class="cl">	/usr/lib/libobjc.dylib
</span></span><span class="line"><span class="cl">	/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Initializers:
</span></span><span class="line"><span class="cl">	0x9de90
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">DOF Offsets:
</span></span><span class="line"><span class="cl">	0x3a63a0
</span></span><span class="line"><span class="cl">	0x3a6d04
</span></span></code></pre></div><blockquote>
<p><strong>NOTE:</strong> This currently doesn&rsquo;t <em>yet</em> work on macOS12+/iOS15+ caches</p>
</blockquote>
<h3 id="dyld-extract"><strong>dyld extract</strong></h3>
<p>Extract <em>dyld_shared_cache</em> from a previously downloaded <em>ipsw</em></p>
<ul>
<li><code>macOS</code></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld extract iPhone11,2_12.0_16A366_Restore.ipsw
</span></span><span class="line"><span class="cl">   ‚Ä¢ Extracting dyld_shared_cache from IPSW
</span></span><span class="line"><span class="cl">   ‚Ä¢ Mounting DMG
</span></span><span class="line"><span class="cl">   ‚Ä¢ Extracting System/Library/Caches/com.apple.dyld/dyld_shared_cache_arm64e to dyld_shared_cache
</span></span><span class="line"><span class="cl">   ‚Ä¢ Unmounting DMG
</span></span></code></pre></div><ul>
<li><code>docker</code></li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ docker run --init -it --rm <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --device /dev/fuse <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             --cap-add<span class="o">=</span>SYS_ADMIN <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             -v <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span> :/data <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>             blacktop/ipsw -V dyld extract iPhone11_2_12.4.1_16G102_Restore.ipsw
</span></span></code></pre></div><h3 id="dyld-macho"><strong>dyld macho</strong></h3>
<p>Parse a cached <code>dylib</code> MachO file</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld macho dyld_shared_cache JavaScriptCore --loads --objc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">Magic</span>         <span class="o">=</span> 64-bit MachO
</span></span><span class="line"><span class="cl"><span class="nv">Type</span>          <span class="o">=</span> Dylib
</span></span><span class="line"><span class="cl"><span class="nv">CPU</span>           <span class="o">=</span> AARCH64, ARM64e caps: PAC00
</span></span><span class="line"><span class="cl"><span class="nv">Commands</span>      <span class="o">=</span> <span class="m">49</span> <span class="o">(</span>Size: 6680<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">Flags</span>         <span class="o">=</span> NoUndefs, DyldLink, TwoLevel, NoReexportedDylibs, AppExtensionSafe, NlistOutofsyncWithDyldinfo, DylibInCache
</span></span><span class="line"><span class="cl">000: LC_SEGMENT_64 <span class="nv">sz</span><span class="o">=</span>0x0027d000 <span class="nv">off</span><span class="o">=</span>0x390d8000-0x39355000 <span class="nv">addr</span><span class="o">=</span>0x1b90d8000-0x1b9355000 r-x/r-x   __TEXT
</span></span><span class="line"><span class="cl">        <span class="nv">sz</span><span class="o">=</span>0x0022e8f4 <span class="nv">off</span><span class="o">=</span>0x390da674-0x39308f68 <span class="nv">addr</span><span class="o">=</span>0x1b90da674-0x1b9308f68            __TEXT.__text                   PureInstructions<span class="p">|</span>SomeInstructions
</span></span><span class="line"><span class="cl">        <span class="nv">sz</span><span class="o">=</span>0x00001af0 <span class="nv">off</span><span class="o">=</span>0x39308f68-0x3930aa58 <span class="nv">addr</span><span class="o">=</span>0x1b9308f68-0x1b930aa58            __TEXT.__auth_stubs             PureInstructions<span class="p">|</span>SomeInstructions <span class="o">(</span>SymbolStubs<span class="o">)</span>
</span></span><span class="line"><span class="cl">        <span class="nv">sz</span><span class="o">=</span>0x00004524 <span class="nv">off</span><span class="o">=</span>0x3930aa58-0x3930ef7c <span class="nv">addr</span><span class="o">=</span>0x1b930aa58-0x1b930ef7c            __TEXT.__objc_methlist
</span></span><span class="line"><span class="cl">&lt;SNIP&gt;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-m" data-lang="m"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">SNIP</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="mi">0</span><span class="n">x001e39fc000</span> <span class="n">JSContext</span> <span class="p">:</span> <span class="n">NSObject</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="o">//</span> <span class="n">instance</span> <span class="n">variables</span>
</span></span><span class="line"><span class="cl">  <span class="o">+</span><span class="mi">0</span><span class="n">x08</span> <span class="p">@</span>&#34;<span class="n">JSVirtualMachine</span>&#34; <span class="n">m_virtualMachine</span> <span class="p">(</span><span class="mi">0</span><span class="n">x8</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">+</span><span class="mi">0</span><span class="n">x10</span> ^<span class="p">{</span><span class="n">OpaqueJSContext</span><span class="p">=}</span> <span class="n">m_context</span> <span class="p">(</span><span class="mi">0</span><span class="n">x8</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">+</span><span class="mi">0</span><span class="n">x18</span> <span class="p">{</span><span class="n">Strong</span><span class="o">&lt;</span><span class="n">JSC</span><span class="p">::</span><span class="n">JSObject</span><span class="p">,</span> <span class="n">JSC</span><span class="p">::</span><span class="n">ShouldStrongDestructorGrabLock</span><span class="p">::</span><span class="n">No</span><span class="o">&gt;</span><span class="p">=</span>&#34;<span class="n">m_slot</span>&#34;^<span class="p">{</span><span class="n">JSValue</span><span class="p">}}</span> <span class="n">m_exception</span> <span class="p">(</span><span class="mi">0</span><span class="n">x8</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">+</span><span class="mi">0</span><span class="n">x20</span> <span class="p">{</span><span class="n">WeakObjCPtr</span><span class="o">&lt;</span><span class="n">id</span><span class="o">&lt;</span><span class="n">JSModuleLoaderDelegate</span><span class="o">&gt;</span> <span class="o">&gt;</span><span class="p">=</span>&#34;<span class="n">m_weakReference</span>&#34;<span class="p">@}</span> <span class="n">m_moduleLoaderDelegate</span> <span class="p">(</span><span class="mi">0</span><span class="n">x8</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">+</span><span class="mi">0</span><span class="n">x28</span> <span class="p">@</span>? <span class="n">_exceptionHandler</span> <span class="p">(</span><span class="mi">0</span><span class="n">x8</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="p">@</span><span class="n">property</span> <span class="p">(</span><span class="n">T</span><span class="p">@</span>&#34;<span class="n">JSValue</span>&#34;<span class="p">,</span><span class="n">R</span><span class="p">)</span> <span class="n">globalObject</span>
</span></span><span class="line"><span class="cl"> <span class="p">@</span><span class="n">property</span> <span class="p">(</span><span class="n">T</span><span class="p">@</span>&#34;<span class="n">JSValue</span>&#34;<span class="p">,</span><span class="o">&amp;</span><span class="p">)</span> <span class="n">exception</span>
</span></span><span class="line"><span class="cl"> <span class="p">@</span><span class="n">property</span> <span class="p">(</span><span class="n">T</span><span class="p">@</span>?<span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">V_exceptionHandler</span><span class="p">)</span> <span class="n">exceptionHandler</span>
</span></span><span class="line"><span class="cl"> <span class="p">@</span><span class="n">property</span> <span class="p">(</span><span class="n">T</span><span class="p">@</span>&#34;<span class="n">JSVirtualMachine</span>&#34;<span class="p">,</span><span class="n">R</span><span class="p">)</span> <span class="n">virtualMachine</span>
</span></span><span class="line"><span class="cl"> <span class="p">@</span><span class="n">property</span> <span class="p">(</span><span class="n">T</span><span class="p">@</span>&#34;<span class="n">NSString</span>&#34;<span class="p">,</span><span class="n">C</span><span class="p">)</span> <span class="n">name</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="o">//</span> <span class="n">class</span> <span class="k">methods</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a04680c</span> <span class="o">+</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">currentContext</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046854</span> <span class="o">+</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">currentThis</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a0468e8</span> <span class="o">+</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">currentCallee</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e1b8d4</span> <span class="o">+</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">currentArguments</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e1b4f8</span> <span class="o">+</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">contextWithJSGlobalContextRef</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="o">//</span> <span class="n">instance</span> <span class="k">methods</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046afc</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">_setRemoteInspectionEnabled</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046b1c</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">_debuggerRunLoop</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e19ce4</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">wrapperForJSObject</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046b08</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">_includesNativeCallStackWhenReportingExceptions</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e1c908</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">exception</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e1ba58</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">objectForKeyedSubscript</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e19294</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">evaluateScript</span><span class="p">:</span><span class="n">withSourceURL</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e1b588</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">globalObject</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046b44</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">exceptionHandler</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a0469dc</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">setName</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e1bb28</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">setException</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e19eb4</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">wrapperForObjCObject</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046984</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">virtualMachine</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046470</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">dependencyIdentifiersForModuleJSScript</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046b30</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">moduleLoaderDelegate</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046b50</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">setExceptionHandler</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046cf4</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">valueFromNotifyException</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e1c940</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">setObject</span><span class="p">:</span><span class="n">forKeyedSubscript</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e19b48</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">dealloc</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046b10</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">_setIncludesNativeCallStackWhenReportingExceptions</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046b38</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">setModuleLoaderDelegate</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e19a98</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">initWithVirtualMachine</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046d44</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">boolFromNotifyException</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046bb0</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">initWithGlobalContextRef</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a04698c</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">name</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046d68</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">wrapperMap</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e1c298</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">beginCallbackWithData</span><span class="p">:</span><span class="n">calleeValue</span><span class="p">:</span><span class="n">thisValue</span><span class="p">:</span><span class="n">argumentCount</span><span class="p">:</span><span class="n">arguments</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e1c208</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">ensureWrapperMap</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046c78</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">notifyException</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e1ba44</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">evaluateScript</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e19c88</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">init</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e1c900</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="p">.</span><span class="n">cxx_construct</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a0461e8</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">evaluateJSScript</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046b24</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">_setDebuggerRunLoop</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046b58</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="p">.</span><span class="n">cxx_destruct</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a04679c</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">_setITMLDebuggableType</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e1ba30</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">JSGlobalContextRef</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x00189e1baa0</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">endCallbackWithData</span><span class="p">:]</span>
</span></span><span class="line"><span class="cl">  <span class="mi">0</span><span class="n">x0018a046af4</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">_remoteInspectionEnabled</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">SNIP</span><span class="o">&gt;</span>
</span></span></code></pre></div><blockquote>
<p><strong>NOTE:</strong> Make the output look amazing by piping to <code>bat -l m --tabs 0 -p --theme Nord --wrap=never --pager &quot;less -S&quot;</code></p>
</blockquote>
<h3 id="dyld-symaddr"><strong>dyld symaddr</strong></h3>
<p>Find all instances of a symbol&rsquo;s <em>(unslid)</em> addresses in shared cache</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld symaddr dyld_shared_cache &lt;SYMBOL_NAME&gt;
</span></span></code></pre></div><p>Speed it up by supplying the dylib name</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld symaddr --image JavaScriptCore dyld_shared_cache &lt;SYMBOL_NAME&gt;
</span></span></code></pre></div><p><strong>NOTE:</strong> you don&rsquo;t have to supply the full image path</p>
<p>Dump ALL teh symbolz!!!</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld symaddr dyld_shared_cache
</span></span></code></pre></div><p>Read in a JSON symbol lookup file</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ jq . sym_lookup.json
</span></span><span class="line"><span class="cl"><span class="o">[</span>
</span></span><span class="line"><span class="cl">  <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;name&#34;</span>: <span class="s2">&#34;__platform_memmove&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;image&#34;</span>: <span class="s2">&#34;libsystem_platform.dylib&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>,
</span></span><span class="line"><span class="cl">  <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;name&#34;</span>: <span class="s2">&#34;_memcpy&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;image&#34;</span>: <span class="s2">&#34;libsystem_c.dylib&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">]</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld symaddr dyld_shared_cache --in sym_lookup.json <span class="p">|</span> jq .
</span></span><span class="line"><span class="cl"><span class="o">[</span>
</span></span><span class="line"><span class="cl">  <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;name&#34;</span>: <span class="s2">&#34;__platform_memmove&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;image&#34;</span>: <span class="s2">&#34;/usr/lib/system/libsystem_platform.dylib&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;address&#34;</span>: <span class="m">8351373904</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>,
</span></span><span class="line"><span class="cl">  <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;name&#34;</span>: <span class="s2">&#34;_memcpy&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;image&#34;</span>: <span class="s2">&#34;/usr/lib/system/libsystem_c.dylib&#34;</span>,
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;address&#34;</span>: <span class="m">8351373904</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">]</span>
</span></span></code></pre></div><h3 id="dyld-a2s"><strong>dyld a2s</strong></h3>
<p>Lookup what symbol is at a given <em>unslid</em> or <em>slid</em> address <em>(in hex)</em></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld a2s dyld_shared_cache_arm64e --slide 0x27010000 0x00000001bc39e1e0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   ‚Ä¢ Address location          <span class="nv">dylib</span><span class="o">=</span>/usr/lib/libobjc.A.dylib <span class="nv">section</span><span class="o">=</span>__TEXT.__text
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">0x19538e1e0: _objc_msgSend + <span class="m">32</span>
</span></span></code></pre></div><blockquote>
<p><strong>NOTE:</strong> This will also create a cached version of the lookup hash table (.a2s) so the next time you lookup it will be much faster</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ <span class="nb">time</span> ipsw dyld a2s dyld_shared_cache 0x190a7221c
</span></span><span class="line"><span class="cl">   ‚Ä¢ parsing public symbols...
</span></span><span class="line"><span class="cl">   ‚Ä¢ parsing private symbols...
</span></span><span class="line"><span class="cl">0x190a7221c: _xmlCtxtGetLastError
</span></span><span class="line"><span class="cl">61.59s user 9.80s system 233% cpu <span class="s2">&#34;30.545 total&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ <span class="nb">time</span> ipsw dyld a2s dyld_shared_cache 0x190a7221c
</span></span><span class="line"><span class="cl">0x190a7221c: _xmlCtxtGetLastError
</span></span><span class="line"><span class="cl">2.12s user 0.51s system 109% cpu <span class="s2">&#34;2.407 total&#34;</span>
</span></span></code></pre></div><h3 id="dyld-a2f"><strong>dyld a2f</strong></h3>
<p>Lookup what function <em>(if any)</em> contains a given <em>unslid</em> or <em>slid</em> address</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld a2f dyld_shared_cache_arm64e 0x1800980ac
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">0x1800980ac: _dlsym <span class="o">(</span>start: 0x1800980ac, end: 0x1800980e0<span class="o">)</span>
</span></span></code></pre></div><p>It can also take a file of pointers <em>(one per line)</em> as input <em>(and will output results as JSON)</em></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld a2f dyld_shared_cache_arm64e --in ptrs.txt <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>   <span class="p">|</span> jq <span class="s1">&#39;.[] | select(.name != null) | select(.name | contains(&#34;dlsym&#34;))&#39;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;addr&#34;</span><span class="p">:</span> <span class="mi">6443073708</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;start&#34;</span><span class="p">:</span> <span class="mi">6443073708</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;end&#34;</span><span class="p">:</span> <span class="mi">6443073760</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;size&#34;</span><span class="p">:</span> <span class="mi">52</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;_dlsym&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;image&#34;</span><span class="p">:</span> <span class="s2">&#34;libdyld.dylib&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="dyld-objc"><strong>dyld objc</strong></h3>
<h4 id="dump-objc-addresses">Dump ObjC addresses</h4>
<p>Dump all the classes</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld objc --class dyld_shared_cache
</span></span></code></pre></div><p>Dump all the protocols</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld objc --proto dyld_shared_cache
</span></span></code></pre></div><p>Dump all the selectors</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld objc --sel dyld_shared_cache
</span></span></code></pre></div><p>Dump all the imp-caches</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld objc --imp-cache dyld_shared_cache
</span></span></code></pre></div><h3 id="dyld-objc-class"><strong>dyld objc class</strong></h3>
<p>Lookup a class&rsquo;s address</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld objc class dyld_shared_cache release
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">0x1b92c85a8: release
</span></span></code></pre></div><p>Or get all the classes for an image</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld objc class --image libobjc.A.dylib dyld_shared_cache
</span></span></code></pre></div><h3 id="dyld-objc-proto"><strong>dyld objc proto</strong></h3>
<p>Lookup a protocol&rsquo;s address</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld objc proto dyld_shared_cache release
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">0x1b92c85a8: release
</span></span></code></pre></div><h3 id="dyld-objc-sel"><strong>dyld objc sel</strong></h3>
<p>Lookup a selector&rsquo;s address</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld objc sel dyld_shared_cache release
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">0x1b92c85a8: release
</span></span></code></pre></div><p>Or get all the selectors for an image</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld objc sel --image libobjc.A.dylib iPhone12,1_N104AP_18A5319i/dyld_shared_cache
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Objective-C Selectors:
</span></span><span class="line"><span class="cl">/usr/lib/libobjc.A.dylib
</span></span><span class="line"><span class="cl">    0x1c9dcc5fd: instanceMethodSignatureForSelector:
</span></span><span class="line"><span class="cl">    0x1c8f14de2: instanceMethodForSelector:
</span></span><span class="line"><span class="cl">    0x1c9d3be7d: instancesRespondToSelector:
</span></span><span class="line"><span class="cl">    0x1c8f113e9: isAncestorOfObject:
</span></span><span class="line"><span class="cl">    0x1c9e91b48: isSubclassOfClass:
</span></span><span class="line"><span class="cl">    0x1c90fe47d: name
</span></span><span class="line"><span class="cl">    0x1c9aa0937: descriptionForClassMethod:
</span></span><span class="line"><span class="cl">    0x1c9a01891: descriptionForInstanceMethod:
</span></span><span class="line"><span class="cl">    0x1c9aaf8c2: conformsTo:
</span></span><span class="line"><span class="cl">    0x1c8ef287d: ü§Ø &lt;<span class="o">==========</span> WTF??
</span></span><span class="line"><span class="cl">    0x1c93562fd: release
</span></span><span class="line"><span class="cl">    0x1c9b2c9fd: initialize
</span></span><span class="line"><span class="cl">&lt;SNIP&gt;
</span></span></code></pre></div><h3 id="dyld-split"><strong>dyld split</strong></h3>
<blockquote>
<p><strong>NOTE:</strong> Only works on macOS and requires XCode to be installed to the Applications folder</p>
</blockquote>
<p>Split up a <em>dyld_shared_cache</em></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld split dyld_shared_cache .
</span></span><span class="line"><span class="cl">   ‚Ä¢ Splitting dyld_shared_cache
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">0/1445
</span></span><span class="line"><span class="cl">1/1445
</span></span><span class="line"><span class="cl">2/1445
</span></span><span class="line"><span class="cl">3/1445
</span></span><span class="line"><span class="cl">&lt;SNIP&gt;
</span></span><span class="line"><span class="cl">1441/1445
</span></span><span class="line"><span class="cl">1442/1445
</span></span><span class="line"><span class="cl">1443/1445
</span></span><span class="line"><span class="cl">1444/1445
</span></span></code></pre></div><h3 id="dyld-webkit"><strong>dyld webkit</strong></h3>
<p>Extract WebKit version from <em>dyld_shared_cache</em></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld webkit --rev dyld_shared_cache
</span></span><span class="line"><span class="cl">   ‚Ä¢ WebKit Version: 609.1.17.0.1 <span class="o">(</span>svn rev 256416<span class="o">)</span>
</span></span></code></pre></div><h3 id="dyld-patches"><strong>dyld patches</strong></h3>
<p>List dyld patch info</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld patches dyld_shared_cache <span class="p">|</span> grep entries
</span></span><span class="line"><span class="cl">   ‚Ä¢ <span class="o">[</span><span class="m">68</span> entries<span class="o">]</span> /usr/lib/system/libsystem_c.dylib
</span></span><span class="line"><span class="cl">   ‚Ä¢ <span class="o">[</span><span class="m">243</span> entries<span class="o">]</span> /usr/lib/system/libdispatch.dylib
</span></span><span class="line"><span class="cl">   ‚Ä¢ <span class="o">[</span><span class="m">13</span> entries<span class="o">]</span> /usr/lib/system/libsystem_malloc.dylib
</span></span><span class="line"><span class="cl">   ‚Ä¢ <span class="o">[</span><span class="m">3</span> entries<span class="o">]</span> /usr/lib/system/libsystem_platform.dylib
</span></span><span class="line"><span class="cl">   ‚Ä¢ <span class="o">[</span><span class="m">8</span> entries<span class="o">]</span> /usr/lib/system/libsystem_pthread.dylib
</span></span><span class="line"><span class="cl">   ‚Ä¢ <span class="o">[</span><span class="m">6</span> entries<span class="o">]</span> /usr/lib/libobjc.A.dylib
</span></span><span class="line"><span class="cl">   ‚Ä¢ <span class="o">[</span><span class="m">23</span> entries<span class="o">]</span> /usr/lib/libc++abi.dylib
</span></span><span class="line"><span class="cl">   ‚Ä¢ <span class="o">[</span><span class="m">45</span> entries<span class="o">]</span> /usr/lib/system/libsystem_kernel.dylib
</span></span><span class="line"><span class="cl">   ‚Ä¢ <span class="o">[</span><span class="m">2</span> entries<span class="o">]</span> /usr/lib/system/libdyld.dylib
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld patches dyld_shared_cache -i libdyld.dylib
</span></span><span class="line"><span class="cl">0x0028074C <span class="o">(</span><span class="m">63</span> patches<span class="o">)</span>  _dlclose
</span></span><span class="line"><span class="cl">0x00280820 <span class="o">(</span><span class="m">399</span> patches<span class="o">)</span> _dlopen
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld patches dyld_shared_cache -i libdyld.dylib -s _dlopen <span class="p">|</span> head
</span></span><span class="line"><span class="cl">   ‚Ä¢ _dlopen patch locations
</span></span><span class="line"><span class="cl">offset: 0x57b18898, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">offset: 0x57b19170, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">offset: 0x57b1ec20, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">offset: 0x57b345f8, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">offset: 0x57b38a50, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">offset: 0x57b3cd08, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">offset: 0x57b3db98, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">offset: 0x57b79850, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">offset: 0x57b88138, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">offset: 0x57bb56a8, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
</span></span></code></pre></div><h3 id="dyld-slide"><strong>dyld slide</strong></h3>
<p>Dump <em>dyld_shared_cache</em> slide info</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld slide dyld_shared_cache_arm64e
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">slide info <span class="nv">version</span> <span class="o">=</span> <span class="m">3</span>
</span></span><span class="line"><span class="cl"><span class="nv">page_size</span>          <span class="o">=</span> <span class="m">4096</span>
</span></span><span class="line"><span class="cl"><span class="nv">page_starts_count</span>  <span class="o">=</span> <span class="m">11956</span>
</span></span><span class="line"><span class="cl"><span class="nv">auth_value_add</span>     <span class="o">=</span> 0x0000000180000000
</span></span><span class="line"><span class="cl">page<span class="o">[</span>    0<span class="o">]</span>: <span class="nv">start</span><span class="o">=</span>0x0000
</span></span><span class="line"><span class="cl">    <span class="o">[</span>    <span class="m">0</span> + 0x0000<span class="o">]</span> <span class="o">(</span>0x1d1e48000 @ offset <span class="nv">0x4fe48000</span> <span class="o">=</span>&gt; 0x1d70dabb8<span class="o">)</span> value: 0x1d70dabb8, next: 01, sym: __DefaultRuneLocale
</span></span><span class="line"><span class="cl">    <span class="o">[</span>    <span class="m">0</span> + 0x0008<span class="o">]</span> <span class="o">(</span>0x1d1e48008 @ offset <span class="nv">0x4fe48008</span> <span class="o">=</span>&gt; 0x2028f50e0<span class="o">)</span> value: 0x2028f50e0, next: 01, sym: _OBJC_CLASS_<span class="nv">$___NSStackBlock__</span>
</span></span><span class="line"><span class="cl">    <span class="o">[</span>    <span class="m">0</span> + 0x0018<span class="o">]</span> <span class="o">(</span>0x1d1e48010 @ offset <span class="nv">0x4fe48010</span> <span class="o">=</span>&gt; 0x1d9a3dc60<span class="o">)</span> value: 0x1d9a3dc60, next: 01, sym: ___stack_chk_guard
</span></span><span class="line"><span class="cl">    <span class="o">[</span>    <span class="m">0</span> + 0x0030<span class="o">]</span> <span class="o">(</span>0x1d1e48018 @ offset <span class="nv">0x4fe48018</span> <span class="o">=</span>&gt; 0x1d70da940<span class="o">)</span> value: 0x1d70da940, next: 01, sym: ___stderrp
</span></span><span class="line"><span class="cl">    <span class="o">[</span>    <span class="m">0</span> + 0x0050<span class="o">]</span> <span class="o">(</span>0x1d1e48020 @ offset <span class="nv">0x4fe48020</span> <span class="o">=</span>&gt; 0x1db4ecc20<span class="o">)</span> value: 0x1db4ecc20, next: 01, sym: __dispatch_source_type_mach_recv
</span></span><span class="line"><span class="cl">    <span class="o">[</span>    <span class="m">0</span> + 0x0078<span class="o">]</span> <span class="o">(</span>0x1d1e48028 @ offset <span class="nv">0x4fe48028</span> <span class="o">=</span>&gt; 0x191eb91dc<span class="o">)</span> value: 0x191eb91dc, next: 01, sym: _free
</span></span><span class="line"><span class="cl">    <span class="o">[</span>    <span class="m">0</span> + 0x00A8<span class="o">]</span> <span class="o">(</span>0x1d1e48030 @ offset <span class="nv">0x4fe48030</span> <span class="o">=</span>&gt; 0x1d9a3c02c<span class="o">)</span> value: 0x1d9a3c02c, next: 01, sym: _mach_task_self_
</span></span><span class="line"><span class="cl">    <span class="o">[</span>    <span class="m">0</span> + 0x00E0<span class="o">]</span> <span class="o">(</span>0x1d1e48038 @ offset <span class="nv">0x4fe48038</span> <span class="o">=</span>&gt; 0x1d9a3c048<span class="o">)</span> value: 0x1d9a3c048, next: 01, sym: _vm_page_size
</span></span><span class="line"><span class="cl">    <span class="o">[</span>    <span class="m">0</span> + 0x0120<span class="o">]</span> <span class="o">(</span>0x1d1e48040 @ offset <span class="nv">0x4fe48040</span> <span class="o">=</span>&gt; 0x1800a087c<span class="o">)</span> value: 0x1800a087c, next: 01, sym: ?
</span></span><span class="line"><span class="cl">    <span class="o">[</span>    <span class="m">0</span> + 0x0168<span class="o">]</span> <span class="o">(</span>0x1d1e48048 @ offset <span class="nv">0x4fe48048</span> <span class="o">=</span>&gt; 0x1800a0855<span class="o">)</span> value: 0x1800a0855, next: 03, sym: ?
</span></span><span class="line"><span class="cl">    <span class="o">[</span>    <span class="m">0</span> + 0x01C8<span class="o">]</span> <span class="o">(</span>0x1d1e48060 @ offset <span class="nv">0x4fe48060</span> <span class="o">=</span>&gt; 0x1800a0958<span class="o">)</span> value: 0x1800a0958, next: 04, sym: ?
</span></span><span class="line"><span class="cl">    <span class="o">[</span>    <span class="m">0</span> + 0x0248<span class="o">]</span> <span class="o">(</span>0x1d1e48080 @ offset <span class="nv">0x4fe48080</span> <span class="o">=</span>&gt; 0x1800a0958<span class="o">)</span> value: 0x1800a0958, next: 04, sym: ?
</span></span><span class="line"><span class="cl">    <span class="o">[</span>    <span class="m">0</span> + 0x02E8<span class="o">]</span> <span class="o">(</span>0x1d1e480a0 @ offset <span class="nv">0x4fe480a0</span> <span class="o">=</span>&gt; 0x1800a0958<span class="o">)</span> value: 0x1800a0958, next: 04, sym: ?
</span></span><span class="line"><span class="cl">&lt;SNIP&gt;
</span></span></code></pre></div><p>Dump slide info as JSON</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld slide dyld_shared_cache_arm64e --json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>   <span class="p">|</span> jq <span class="s1">&#39;.[] | select(.pointer.authenticated == true and .pointer.key == &#34;DA&#34;)&#39;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;cache_file_offset&#34;</span><span class="p">:</span> <span class="mi">1446288864</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;cache_vm_address&#34;</span><span class="p">:</span> <span class="mi">7955848672</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;target&#34;</span><span class="p">:</span> <span class="mi">7955848672</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;pointer&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="mi">1524890997136864</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;next&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;diversity&#34;</span><span class="p">:</span> <span class="mi">27361</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;addr_div&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;key&#34;</span><span class="p">:</span> <span class="s2">&#34;DA&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;authenticated&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="err">&lt;SNIP&gt;</span>
</span></span></code></pre></div><h3 id="dyld-a2o"><strong>dyld a2o</strong></h3>
<p>Convert <em>dyld_shared_cache</em> address to offset</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld a2o dyld_shared_cache 1D7B18000
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">0x053b18000
</span></span></code></pre></div><h3 id="dyld-o2a"><strong>dyld o2a</strong></h3>
<p>Convert <em>dyld_shared_cache</em> offset to address</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld a2o dyld_shared_cache 0x4C6C0000
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">0x1ce6c0000
</span></span></code></pre></div><h3 id="dyld-disass"><strong>dyld disass</strong></h3>
<p>Disassemble a function in the <em>dyld_shared_cache</em></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld disass dyld_shared_cache_arm64e --symbol _NSLog
</span></span><span class="line"><span class="cl">   ‚Ä¢ Found dyld_shared_cache companion symbol map file...
</span></span><span class="line"><span class="cl">   ‚Ä¢ Locating symbol: _NSLog
</span></span><span class="line"><span class="cl">   ‚Ä¢ Found symbol              <span class="nv">dylib</span><span class="o">=</span>/System/Library/Frameworks/Foundation.framework/Foundation
</span></span><span class="line"><span class="cl">   ‚Ä¢ Parsing ObjC runtime structures...
</span></span></code></pre></div><blockquote>
<p><strong>NOTE:</strong> You can speed up symbol lookups by supplying the <code>--image</code> flag or you can use the <code>--vaddr</code> flag</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-s" data-lang="s"><span class="line"><span class="cl"><span class="n">_NSLog</span><span class="o">:</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac214</span><span class="o">:</span>  <span class="m">7</span><span class="n">f</span> <span class="m">23</span> <span class="m">03</span> <span class="n">d5</span>	<span class="n">pacibsp</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac218</span><span class="o">:</span>  <span class="n">ff</span> <span class="m">83</span> <span class="m">00</span> <span class="n">d1</span>	<span class="n">sub</span>	<span class="n">sp</span><span class="p">,</span> <span class="n">sp</span><span class="p">,</span> <span class="c1">#0x20</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac21c</span><span class="o">:</span>  <span class="n">fd</span> <span class="m">7</span><span class="n">b</span> <span class="m">01</span> <span class="n">a9</span>	<span class="n">stp</span>	<span class="n">x29</span><span class="p">,</span> <span class="n">x30</span><span class="p">,</span> <span class="n">[sp</span><span class="p">,</span> <span class="c1">#0x10]</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac220</span><span class="o">:</span>  <span class="n">fd</span> <span class="m">43</span> <span class="m">00</span> <span class="m">91</span>	<span class="n">add</span>	<span class="n">x29</span><span class="p">,</span> <span class="n">sp</span><span class="p">,</span> <span class="c1">#0x10</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac224</span><span class="o">:</span>  <span class="m">28</span> <span class="n">e9</span> <span class="m">2</span><span class="n">b</span> <span class="n">f0</span>	<span class="n">adrp</span>	<span class="n">x8</span><span class="p">,</span> <span class="mh">0x1d98d3000</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac228</span><span class="o">:</span>  <span class="m">08</span> <span class="m">45</span> <span class="m">41</span> <span class="n">f9</span>	<span class="n">ldr</span>	<span class="n">x8</span><span class="p">,</span> <span class="n">[x8</span><span class="p">,</span> <span class="c1">#0x288] ; __got.___stack_chk_guard</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac22c</span><span class="o">:</span>  <span class="m">08</span> <span class="m">01</span> <span class="m">40</span> <span class="n">f9</span>	<span class="n">ldr</span>	<span class="n">x8</span><span class="p">,</span> <span class="n">[x8]</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac230</span><span class="o">:</span>  <span class="n">e8</span> <span class="m">07</span> <span class="m">00</span> <span class="n">f9</span>	<span class="n">str</span>	<span class="n">x8</span><span class="p">,</span> <span class="n">[sp</span><span class="p">,</span> <span class="c1">#0x8]</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac234</span><span class="o">:</span>  <span class="n">a8</span> <span class="m">43</span> <span class="m">00</span> <span class="m">91</span>	<span class="n">add</span>	<span class="n">x8</span><span class="p">,</span> <span class="n">x29</span><span class="p">,</span> <span class="c1">#0x10</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac238</span><span class="o">:</span>  <span class="n">e8</span> <span class="m">03</span> <span class="m">00</span> <span class="n">f9</span>	<span class="n">str</span>	<span class="n">x8</span><span class="p">,</span> <span class="n">[sp]</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac23c</span><span class="o">:</span>  <span class="n">e2</span> <span class="m">03</span> <span class="m">1</span><span class="n">e</span> <span class="n">aa</span>	<span class="n">mov</span>	<span class="n">x2</span><span class="p">,</span> <span class="n">x30</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac240</span><span class="o">:</span>  <span class="n">e2</span> <span class="m">43</span> <span class="n">c1</span> <span class="n">da</span>	<span class="n">xpaci</span>	<span class="n">x2</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac244</span><span class="o">:</span>  <span class="n">a1</span> <span class="m">43</span> <span class="m">00</span> <span class="m">91</span>	<span class="n">add</span>	<span class="n">x1</span><span class="p">,</span> <span class="n">x29</span><span class="p">,</span> <span class="c1">#0x10</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac248</span><span class="o">:</span>  <span class="m">2</span><span class="n">a</span> <span class="m">22</span> <span class="m">00</span> <span class="m">94</span>	<span class="n">bl</span>	<span class="n">__NSLogv</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac24c</span><span class="o">:</span>  <span class="n">e8</span> <span class="m">07</span> <span class="m">40</span> <span class="n">f9</span>	<span class="n">ldr</span>	<span class="n">x8</span><span class="p">,</span> <span class="n">[sp</span><span class="p">,</span> <span class="c1">#0x8]</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac250</span><span class="o">:</span>  <span class="m">29</span> <span class="n">e9</span> <span class="m">2</span><span class="n">b</span> <span class="n">f0</span>	<span class="n">adrp</span>	<span class="n">x9</span><span class="p">,</span> <span class="mh">0x1d98d3000</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac254</span><span class="o">:</span>  <span class="m">29</span> <span class="m">45</span> <span class="m">41</span> <span class="n">f9</span>	<span class="n">ldr</span>	<span class="n">x9</span><span class="p">,</span> <span class="n">[x9</span><span class="p">,</span> <span class="c1">#0x288] ; __got.___stack_chk_guard</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac258</span><span class="o">:</span>  <span class="m">29</span> <span class="m">01</span> <span class="m">40</span> <span class="n">f9</span>	<span class="n">ldr</span>	<span class="n">x9</span><span class="p">,</span> <span class="n">[x9]</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac25c</span><span class="o">:</span>  <span class="m">3</span><span class="n">f</span> <span class="m">01</span> <span class="m">08</span> <span class="n">eb</span>	<span class="n">cmp</span>	<span class="n">x9</span><span class="p">,</span> <span class="n">x8</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac260</span><span class="o">:</span>  <span class="m">81</span> <span class="m">00</span> <span class="m">00</span> <span class="m">54</span>	<span class="n">b.ne</span>	<span class="n">loc_181bac270</span> <span class="p">;</span> ‚§µ <span class="mh">0x10</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac264</span><span class="o">:</span>  <span class="n">fd</span> <span class="m">7</span><span class="n">b</span> <span class="m">41</span> <span class="n">a9</span>	<span class="n">ldp</span>	<span class="n">x29</span><span class="p">,</span> <span class="n">x30</span><span class="p">,</span> <span class="n">[sp</span><span class="p">,</span> <span class="c1">#0x10]</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac268</span><span class="o">:</span>  <span class="n">ff</span> <span class="m">83</span> <span class="m">00</span> <span class="m">91</span>	<span class="n">add</span>	<span class="n">sp</span><span class="p">,</span> <span class="n">sp</span><span class="p">,</span> <span class="c1">#0x20</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac26c</span><span class="o">:</span>  <span class="n">ff</span> <span class="m">0</span><span class="n">f</span> <span class="m">5</span><span class="n">f</span> <span class="n">d6</span>	<span class="n">retab</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac270</span><span class="o">:</span>  <span class="p">;</span> <span class="n">loc_181bac270</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x181bac270</span><span class="o">:</span>  <span class="m">3</span><span class="n">e</span> <span class="m">85</span> <span class="m">93</span> <span class="m">97</span>	<span class="n">bl</span>	<span class="n">j____stack_chk_fail</span>
</span></span></code></pre></div><blockquote>
<p><strong>NOTE:</strong> Make the output look amazing by adding the <code>--color</code> flag üåà</p>
</blockquote>
<h3 id="dyld-imports"><strong>dyld imports</strong></h3>
<p>List all dylibs that import/load a given dylib in the <em>dyld_shared_cache</em></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld imports dyld_shared_cache JavaScriptCore
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">JavaScriptCore Imported By:
</span></span><span class="line"><span class="cl"><span class="o">===========================</span>
</span></span><span class="line"><span class="cl">/System/Library/Frameworks/WebKit.framework/WebKit
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/WebCore.framework/WebCore
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/WebBookmarks.framework/WebBookmarks
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/SafariShared.framework/SafariShared
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/JetEngine.framework/JetEngine
</span></span><span class="line"><span class="cl">/System/Library/Frameworks/SafariServices.framework/SafariServices
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/WebKitLegacy.framework/WebKitLegacy
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/SafariSharedUI.framework/SafariSharedUI
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/VideosUI.framework/VideosUI
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/StoreKitUI.framework/StoreKitUI
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/iTunesStoreUI.framework/iTunesStoreUI
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/ITMLKit.framework/ITMLKit
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/AppStoreKit.framework/AppStoreKit
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/WorkflowKit.framework/WorkflowKit
</span></span><span class="line"><span class="cl">/System/Library/PreferenceBundles/MobileSafariSettings.bundle/MobileSafariSettings
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/ActionKit.framework/ActionKit
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/Cards.framework/Cards
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/CommunicationsSetupUI.framework/CommunicationsSetupUI
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/CoreChart.framework/CoreChart
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/JITAppKit.framework/JITAppKit
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/MailWebProcessSupport.framework/MailWebProcessSupport
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/MetricsKit.framework/MetricsKit
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/RemoteUI.framework/RemoteUI
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/SeymourServices.framework/SeymourServices
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/SlideshowKit.framework/Frameworks/OpusKit.framework/OpusKit
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/TVMLKit.framework/TVMLKit
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/TelephonyPreferences.framework/TelephonyPreferences
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/TouchML.framework/TouchML
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/VideoSubscriberAccountUI.framework/VideoSubscriberAccountUI
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/WebApp.framework/WebApp
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/WebInspector.framework/WebInspector
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/WebUI.framework/WebUI
</span></span><span class="line"><span class="cl">/System/Library/PrivateFrameworks/WorkflowEditor.framework/WorkflowEditor
</span></span></code></pre></div><h3 id="dyld-xref"><strong>dyld xref</strong></h3>
<p>List all the cross-references in the <em>dyld_shared_cache</em> for a given virtual address</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ipsw dyld symaddr dyld_shared_cache_arm64e _NSLog
</span></span><span class="line"><span class="cl">0x1817e73e4: <span class="o">(</span>Regular<span class="o">)</span> _NSLog   /System/Library/Frameworks/Foundation.framework/Foundation
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld xref dyld_shared_cache 0x1817e73e4
</span></span><span class="line"><span class="cl">   ‚Ä¢ Address location          <span class="nv">dylib</span><span class="o">=</span>/System/Library/Frameworks/Foundation.framework/Foundation <span class="nv">sym</span><span class="o">=</span>_NSLog
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">XREFS <span class="o">(</span>304<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">===========</span>
</span></span><span class="line"><span class="cl">0x181828034: -<span class="o">[</span>__NSConcreteURLComponents percentEncodedHost<span class="o">]</span> + <span class="m">96</span>
</span></span><span class="line"><span class="cl">0x1817ca15c: _NSCountMapTable + <span class="m">48</span>
</span></span><span class="line"><span class="cl">0x1817fc33c: -<span class="o">[</span>NSItemProvider loadDataRepresentationForTypeIdentifier:completionHandler:<span class="o">]</span> + <span class="m">264</span>
</span></span><span class="line"><span class="cl">0x18181a8fc: +<span class="o">[</span>NSString<span class="o">(</span>NSStringOtherEncodings<span class="o">)</span> localizedNameOfStringEncoding:<span class="o">]</span> + <span class="m">84</span>
</span></span><span class="line"><span class="cl">0x181760ef0: -<span class="o">[</span>NSCharacterSet mutableCopyWithZone:<span class="o">]</span> + <span class="m">60</span>
</span></span><span class="line"><span class="cl">0x181790fcc: _NSFreeHashTable + <span class="m">48</span>
</span></span><span class="line"><span class="cl">0x181791244: _NSHashInsertKnownAbsent + <span class="m">52</span>
</span></span><span class="line"><span class="cl">0x1817c9b70: _NSEnumerateMapTable + <span class="m">56</span>
</span></span><span class="line"><span class="cl">&lt;SNIP&gt;
</span></span></code></pre></div><h3 id="dyld-tbd"><strong>dyld tbd</strong></h3>
<p>Generate a <code>.tbd</code> file for a dylib</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld tbd dyld_shared_cache CoreSymbolication
</span></span><span class="line"><span class="cl">   ‚Ä¢ Created CoreSymbolication.tbd
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ cat CoreSymbolication.tbd
</span></span><span class="line"><span class="cl">---
</span></span><span class="line"><span class="cl">archs:           <span class="o">[</span> arm64e <span class="o">]</span>
</span></span><span class="line"><span class="cl">platform:        ios
</span></span><span class="line"><span class="cl">install-name:    /System/Library/PrivateFrameworks/CoreSymbolication.framework/CoreSymbolication
</span></span><span class="line"><span class="cl">current-version: 64544.69.1.0.0
</span></span><span class="line"><span class="cl">exports:
</span></span><span class="line"><span class="cl">  - archs:           <span class="o">[</span> arm64e <span class="o">]</span>
</span></span><span class="line"><span class="cl">    symbols:         <span class="o">[</span> _unmap_node, _thread_name_for_thread_port, &lt;SNIP&gt; <span class="o">]</span>
</span></span><span class="line"><span class="cl">...
</span></span></code></pre></div><h3 id="dyld-dump"><strong>dyld dump</strong></h3>
<p>First print the MachO header for <code>CoreData</code> in a cache</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld macho dyld_shared_cache_arm64e CoreData <span class="p">|</span> grep <span class="s2">&#34;__DATA_CONST.__got&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nv">sz</span><span class="o">=</span><span class="s2">&#34;0x000002d8&#34;</span> <span class="nv">off</span><span class="o">=</span>0x502c2428-0x502c2700 <span class="nv">addr</span><span class="o">=</span><span class="s2">&#34;0x1d22c2428&#34;</span>-0x1d22c2700            __DATA_CONST.__got               <span class="o">(</span>NonLazySymbolPointers<span class="o">)</span>
</span></span></code></pre></div><p>Hexdump the section <code>__DATA_CONST.__got</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld dump dyld_shared_cache_arm64e 0x1d22c2428 --size <span class="m">728</span> <span class="c1"># 0x2d8 in decimal</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="m">00000000</span>  <span class="m">00</span> <span class="m">46</span> a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="m">90</span> ba a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>.F..............<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000010</span>  <span class="m">52</span> 3b d8 d6 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="m">20</span> ba a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>R<span class="p">;</span>...... .......<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000020</span>  <span class="m">18</span> bc a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  b0 bc a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>................<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000030</span>  b8 bc a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  c0 bc a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>................<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000040</span>  a0 bc a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  a8 bc a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>................<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000050</span>  e8 bb a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="m">88</span> bc a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>................<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000060</span>  b0 bb a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  b0 3d a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>.........<span class="o">=</span>......<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000070</span>  <span class="m">30</span> bb a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  c8 3d a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>0........<span class="o">=</span>......<span class="p">|</span>
</span></span><span class="line"><span class="cl">&lt;SNIP&gt;
</span></span></code></pre></div><p>Or dump the section as a list of pointers</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld dump dyld_shared_cache_arm64e 0x1d22c2428 --size <span class="m">728</span> --addr
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">0x1d9a84600
</span></span><span class="line"><span class="cl">0x1d9a8ba90
</span></span><span class="line"><span class="cl">0x1d6d83b52
</span></span><span class="line"><span class="cl">0x1d9a8ba20
</span></span><span class="line"><span class="cl">0x1d9a8bc18
</span></span><span class="line"><span class="cl">0x1d9a8bcb0
</span></span><span class="line"><span class="cl">0x1d9a8bcb8
</span></span><span class="line"><span class="cl">0x1d9a8bcc0
</span></span><span class="line"><span class="cl">0x1d9a8bca0
</span></span><span class="line"><span class="cl">0x1d9a8bca8
</span></span><span class="line"><span class="cl">&lt;SNIP&gt;
</span></span></code></pre></div><p>Lookup those pointers in the cache</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld dump dyld_shared_cache_arm64e 0x1d22c2428 --size <span class="m">728</span> --addr <span class="p">|</span> xargs -I <span class="o">{}</span> /bin/zsh -c <span class="s1">&#39;ipsw dyld a2s dyld_shared_cache_arm64e {}&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   ‚Ä¢ Address location          <span class="nv">dylib</span><span class="o">=</span>/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation <span class="nv">section</span><span class="o">=</span>__DATA_CONST.__const
</span></span><span class="line"><span class="cl">0x1d9a84600: _NSCalendarIdentifierGregorian
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   ‚Ä¢ Address location          <span class="nv">dylib</span><span class="o">=</span>/System/Library/Frameworks/Foundation.framework/Foundation <span class="nv">section</span><span class="o">=</span>__DATA_CONST.__const
</span></span><span class="line"><span class="cl">0x1d9a8ba90: _NSCocoaErrorDomain
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   ‚Ä¢ Address location          <span class="nv">dylib</span><span class="o">=</span>/System/Library/Frameworks/Foundation.framework/Foundation <span class="nv">section</span><span class="o">=</span>__DATA.__common
</span></span><span class="line"><span class="cl">0x1d6d83b52: _NSDeallocateZombies
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   ‚Ä¢ Address location          <span class="nv">dylib</span><span class="o">=</span>/System/Library/Frameworks/Foundation.framework/Foundation <span class="nv">section</span><span class="o">=</span>__DATA_CONST.__const
</span></span><span class="line"><span class="cl">0x1d9a8ba20: _NSFilePathErrorKey
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;SNIP&gt;
</span></span></code></pre></div><p>Or write to a file for later post-processing</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ ipsw dyld dump dyld_shared_cache_arm64e 0x1d22c2428 --size <span class="m">728</span> --output ./data.bin
</span></span><span class="line"><span class="cl">   ‚Ä¢ Wrote data to file ./data.bin
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">‚ùØ hexdump -C data.bin
</span></span><span class="line"><span class="cl"><span class="m">00000000</span>  <span class="m">00</span> <span class="m">46</span> a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="m">90</span> ba a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>.F..............<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000010</span>  <span class="m">52</span> 3b d8 d6 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="m">20</span> ba a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>R<span class="p">;</span>...... .......<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000020</span>  <span class="m">18</span> bc a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  b0 bc a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>................<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000030</span>  b8 bc a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  c0 bc a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>................<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000040</span>  a0 bc a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  a8 bc a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>................<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000050</span>  e8 bb a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="m">88</span> bc a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>................<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000060</span>  b0 bb a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  b0 3d a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>.........<span class="o">=</span>......<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000070</span>  <span class="m">30</span> bb a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  c8 3d a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>0........<span class="o">=</span>......<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000080</span>  c0 3d a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="m">68</span> be a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>.<span class="o">=</span>......h.......<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="m">00000090</span>  <span class="m">70</span> be a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="m">78</span> be a8 d9 <span class="m">01</span> <span class="m">00</span> <span class="m">08</span> <span class="m">00</span>  <span class="p">|</span>p.......x.......<span class="p">|</span>
</span></span><span class="line"><span class="cl">&lt;SNIP&gt;
</span></span></code></pre></div>
</div>
</div>

        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic">
              <a href="https://blog.blacktop.io">blog.blacktop.io</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>


  

  
  

  
  <script type="text/javascript" src="/ipsw/js/scripts.min.302a6fc365d5139fb98cf60bdb8f715d96257ea189161d36c190ccfa8182e569.js"></script>
  

  
  
  
    
  


</body>

</html>
